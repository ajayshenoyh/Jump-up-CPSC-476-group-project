{% extends 'bootstrap/base.html'%}
{% block title %}HopUp User Login{% endblock %}
{% block navbar %}
<div class="navbar navbar-inverse" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle"
      data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">Home</a>
  </div>
  <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav">
      <li><a href="/login">Login</a></li>
      <li><a href="/project_register">Start a new Project</a></li>
    </ul>
  </div>
</div>
</div>
{% endblock %}
{%block content%}
<!doctype html>
<html>
<head>
  <script type="text/javascript">
      function validateAccountDetailsForm(){

        var email_address = document.forms["BankAccountDetailsForm"]["contactEmail"].value;
        var email_regex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        if(email_address == ""){
          alert("Contact Email cannot be empty");
          return false;
        }else if(!email_regex.test(email_address)){
          alert("Please enter the valid email addresss");
          return false;
        }

        var fn = document.forms["BankAccountDetailsForm"]["fn"].value;
        var ln = document.forms["BankAccountDetailsForm"]["ln"].value;
        var dob = document.forms["BankAccountDetailsForm"]["DOB"].value;
        var name_pattern = /^[A-Za-z\s]+$/;
        var dob_pattern = /^([0-9]{2})/([0-9]{2})/([0-9]{4})$/;

        if(fn == ""){
          alert("FirstName field cannot be empty");
          return false;
        }else if(fn.length > 100){
          alert("First name is very lengthy");
          return false;
        }else if(!name_pattern.test(fn)){
          alert("Enter a valid first name");
          return false;
        }

        if(ln == ""){
          alert("LastName field cannot be empty");
          return false;
        }else if(ln.length > 100){
          alert("Last name is very lengthy");
          return false;
        }else if(!name_pattern.test(ln)){
          alert("Enter a valid last name");
          return false;
        }

        if(dob == ""){
          alert("Date of birth field cannot be empty");
          return false;
        }else if(!dob_pattern.test(dob)){
          alert("Please enter a valid date of birth");
          return false;
        }

        return true;

      }
  </script>
  <div class="container" align="center">
    <h1>Link your bank account</h1>
  </div>
</head>
<body>
  <form method="post" action="/account_details" name="BankAccountDetailsForm" onsubmit="return validateAccountDetailsForm()">
    <div class="container">
    <div class="form-group">
		    <label for="contactEmail">Email to Contact</label>
		    <input type="text" class="form-control" id="contactEmail" name="contactEmail" placeholder="Email Address to contact" required>
		</div>
    <div class="form-check form-check-inline">
      <label class="form-check-label" for="firstName">FirstName
        <input class="form-check-input" type="text" name="fn" id="fn" value=" " required>
      </label>
    </div>
    <div class="form-check form-check-inline">
      <label class="form-check-label" for="lastName">LastName
        <input class="form-check-input" type="text" name="ln" id="ln" value=" " required>
      </label>
    </div>
    <div class="form-check form-check-inline">
      <label class="form-check-label" for="dateOfBirth">Date Of Birth
        <input class="form-check-input" type="date" id="DOB" name="DOB" value=" " required>
      </label>
    </div>
    <div class="form-check form-check-inline disabled">
        <label class="form-check-label"for="homeAddress">HomeAddress
        <input class="form-check-input" type="text" name="homeAddress" id="homeAddress" value=" " required>
        </label>
    </div>
    <div class="form-check form-check-inline disabled">
        <label class="form-check-label"for="RoutingNumber">Routing Number
        <input class="form-check-input" type="text" name="routingNumber" id="routingNumber" value=" "  required>
        </label>
    </div>
    <div class="form-check form-check-inline disabled">
        <label class="form-check-label"for="BankAccountNumber">Bank Account Number
        <input class="form-check-input" type="text" name="BankAccountNumber" id="BankAccountNumber" value=" " required>
        </label>
    </div>
    <button type="submit" style="background-color:grey;margin:auto;display:block">Submit Project</button>
  </div>
  </form>
</body>
</html>
{%endblock%}
